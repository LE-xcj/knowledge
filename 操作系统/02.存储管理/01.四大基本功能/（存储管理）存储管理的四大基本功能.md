存储管理的四大基本功能

**1、内存分配与回收**

当有作业进入系统时，存储管理模块就会根据当前内存情况来分配内存给它；当作业完成后，就会回收作业占用的内存，将这部分内存设置为可分配状态。

分配方式主要有两种：

静态分配：作业在运行之前，已经明确所需内存的大小，并且一次性分配；作业在运行的时候，不可以重新申请或移动内存。

动态分配：作业在运行期间，可以根据需要动态申请内存。比静态分配灵活，并且能够提高内存的利用率，避免因静态分配导致不必要的信息加载到内存中。

**2、地址重定位**

实现程序的逻辑地址和物理地址转换，并根据物理地址重定位到物理空间。

程序中，基本都是用符号名来访问存储单元的。而符号名存储的是逻辑地址，而逻辑地址可以转化为物理地址，最后可以通过物理地址直接定位存储单元。

![](https://mmbiz.qpic.cn/mmbiz_png/BWLbK9PgqK3C9BZzP6iaibU6YHGqerKHD7Wu0mKnicMsicicJar5mLUJ60fxOicCk3QL8WmCV3pK6oI6WRIaWBUcEPUA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

其中重定位一共有两种方式：

![](https://mmbiz.qpic.cn/mmbiz_png/BWLbK9PgqK3C9BZzP6iaibU6YHGqerKHD7l3C7srP8VkyEpVGKXroJRJKwswFBur0xr4XCkSp64UE4xTQMoS8qwA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

**3、存储保护**

存储保护是为了防止程序越界访问、破坏其他程序或系统的存储区。较为普遍的存储保护方法是：硬件的界限存储器保护法，并且还分为两种实现方法。

![](https://mmbiz.qpic.cn/mmbiz_png/BWLbK9PgqK3C9BZzP6iaibU6YHGqerKHD7QIeusaCWNDwuMNjibAo1fBM9IU6K82powYh2ibqmTwUUgIS3ZIhBgiaiaQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

**4、虚拟存储**

程序的局部性分为：时间和空间的局部性。

时间局部性：某条指令被执行，那么在不久的将来也会被再次执行。

空间局部性：一旦程序访问某个存储单元的数据，那么不久的将来，这个存储单元附近的存储单元也可能会被访问。

由于程序的局部性原理，很多数据没有必要全部加载到内存。因此就将那些不必要的数据暂存在外存中，等到需要的时候再调入到内存中。这部分外存就充当虚拟内存，也叫虚拟存储。

